# ç»™å®šä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ nums ï¼Œæ‰¾å‡ºæ•°å­—è¿ç»­çš„æœ€é•¿åºåˆ—ï¼ˆä¸è¦æ±‚åºåˆ—å…ƒç´ åœ¨åŸæ•°ç»„ä¸­è¿ç»­ï¼‰çš„é•¿åº¦ã€‚
#
#
#
#  è¿›é˜¶ï¼šä½ å¯ä»¥è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º O(n) çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ
#
#
#
#  ç¤ºä¾‹ 1ï¼š
#
#
# è¾“å…¥ï¼šnums = [100,4,200,1,3,2]
# è¾“å‡ºï¼š4
# è§£é‡Šï¼šæœ€é•¿æ•°å­—è¿ç»­åºåˆ—æ˜¯ [1, 2, 3, 4]ã€‚å®ƒçš„é•¿åº¦ä¸º 4ã€‚
#
#  ç¤ºä¾‹ 2ï¼š
#
#
# è¾“å…¥ï¼šnums = [0,3,7,2,5,8,4,6,0,1]
# è¾“å‡ºï¼š9
#
#
#
#
#  æç¤ºï¼š
#
#
#  0 <= nums.length <= 104
#  -109 <= nums[i] <= 109
#
#  Related Topics å¹¶æŸ¥é›† æ•°ç»„
#  ğŸ‘ 785 ğŸ‘ 0

# æ€è·¯ï¼šä½¿ç”¨pythonè‡ªå¸¦æ’åºç®—æ³•æ’åºï¼Œå†ä½¿ç”¨åŠ¨æ€è§„åˆ’åˆ¤æ–­æœ€å¤§è¿ç»­æ•°ç»„é•¿åº¦
# æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)
# ç©ºé—´å¤æ‚åº¦ï¼šO(N)
# 			æ‰§è¡Œè€—æ—¶:84 ms,å‡»è´¥äº†23.05% çš„Python3ç”¨æˆ·
# 			å†…å­˜æ¶ˆè€—:22.6 MB,å‡»è´¥äº†13.47% çš„Python3ç”¨æˆ·

# leetcode submit region begin(Prohibit modification and deletion)
# class Solution:
#     def longestConsecutive(self, nums: List[int]) -> int:
#         if len(nums) <= 1:
#             return len(nums)
#         nums.sort()
#         dp = [1] * len(nums)
#         for i in range(1, len(nums)):
#             if nums[i] == nums[i-1]+1:
#                 dp[i] = dp[i-1] + 1
#             elif nums[i] == nums[i-1]:
#                 dp[i] = dp[i-1]
#         # print(nums, dp)
#         return max(dp)

# å“ˆå¸Œè¡¨
# æ€è·¯ï¼šå°†numså»é‡ä¸ºå“ˆå¸Œè¡¨ï¼Œå¯¹è¡¨ä¸­æ¯ä¸€ä¸ªå…ƒç´ xåˆ¤æ–­x+1,x+2,x+3,...,x+yæ˜¯å¦åœ¨è¡¨ç»ˆï¼Œå¦‚æœæˆç«‹ï¼Œåˆ™é•¿åº¦ä¸ºy+1
# å¯ä»¥æŠŠx-1å­˜åœ¨åœ¨è¡¨ä¸­çš„xå¯ä»¥ä¸ç”¨åˆ¤æ–­ï¼Œå› ä¸ºx-1ä½œä¸ºèµ·ç‚¹çš„åºåˆ—è‚¯å®šæ¯”xèµ·ç‚¹çš„åºåˆ—é•¿
# æ—¶é—´å¤æ‚åº¦ï¼šO(N)
# ç©ºé—´å¤æ‚åº¦ï¼šO(N)
# 			æ‰§è¡Œè€—æ—¶:68 ms,å‡»è´¥äº†29.77% çš„Python3ç”¨æˆ·
# 			å†…å­˜æ¶ˆè€—:26 MB,å‡»è´¥äº†7.11% çš„Python3ç”¨æˆ·
class Solution:
    def longestConsecutive(self, nums: List[int]) -> int:
        ans = 0  # æœ€ç»ˆç­”æ¡ˆ
        nums_set = set(nums)  # å»é‡
        for i in nums_set:  # éå†æ¯ä¸ªå…ƒç´ 
            if i - 1 not in nums_set:  # ç”¨å“ˆå¸Œè¡¨åˆ¤æ–­æ˜¯å¦å­˜åœ¨ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)
                cur = 1  # ä»¥iä¸ºèµ·ç‚¹çš„è¿ç»­åºåˆ—é•¿åº¦
                x = i  # x + 1
                
                while x + 1 in nums_set:  # ä¸€ç›´ç´¯åŠ åˆ¤æ–­æ˜¯å¦åœ¨set
                    x += 1
                    cur += 1
                ans = max(ans, cur)
        return ans
# leetcode submit region end(Prohibit modification and deletion)
